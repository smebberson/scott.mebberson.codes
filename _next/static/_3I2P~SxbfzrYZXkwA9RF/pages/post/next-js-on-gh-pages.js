(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"27IA":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/next-js-on-gh-pages",function(){var e=a("FsC6");return{page:e.default||e}}])},FsC6:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),o=a.n(n),r=a("oSia"),l=a("Wm+i"),c=a.n(l),s=a("vfLw"),i=a.n(s),u=a("ln6h"),h=a.n(u),g=a("O40h"),d=a("s1QI"),m=a("doui"),p=a("Fz1P"),b=function(e){var t=e.posts,a=e.pathname.split("/"),n=Object(m.default)(a,3)[2],o=Object(p.a)(t,n);return Object(m.default)(o,1)[0]},f=function(){var e=Object(g.default)(h.a.mark(function e(t){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pathname,e.t0=b,e.next=4,Object(d.a)();case 4:return e.t1=e.sent,e.t2=a,e.t3={posts:e.t1,pathname:e.t2},n=(0,e.t0)(e.t3),e.abrupt("return",{post:n});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=a("MX0m"),w=a.n(y),E=(a("YSmr"),function(e){var t=e.children,a=e.title;return o.a.createElement("div",{className:"jsx-2066922029 bonus"},a&&o.a.createElement("h1",{className:"jsx-2066922029"},a),o.a.createElement("p",{className:"jsx-2066922029"},t),o.a.createElement(w.a,{id:"2066922029"},[".bonus.jsx-2066922029{background-color:#FAFAFA;padding:.5em;}",".bonus.jsx-2066922029:last-child{margin-bottom:0px;}","h1.jsx-2066922029{margin:.6em 2em .4em 1.2em;font-weight:100;font-size:1.2em;}","p.jsx-2066922029{font-size:.9em;margin:.6em 2em .8em 2em;}"]))}),k=a("kOwS"),x=a("qNsG"),v=function(e){var t=e.children,a=e.href,n=e.target,r=void 0===n?"_blank":n,l=Object(x.a)(e,["children","href","target"]);return o.a.createElement("a",Object(k.a)({href:a,target:r},l),t)},j=a("aOVY"),S=a("5Yp1"),z=a("DZ1R"),O=function(e){var t=e.children,a=e.post,n=a.color,r=a.date,l=a.title;return o.a.createElement(S.a,null,o.a.createElement(z.a,{backgroundColor:n,date:r},l),t)};r.a.registerLanguage("bash",c.a);var H;t.default=((H=function(e){var t=e.post;return o.a.createElement(O,{post:t},o.a.createElement("div",{className:"constrained"},o.a.createElement("p",null,"So, you've built an amazing Next.js site. But where do you host it?"),o.a.createElement("p",null,"For free, on GitHub Pages of course 😀"),o.a.createElement("p",null,"There's always a caveat... this only works if you can statically export your site. ",o.a.createElement(v,{href:"https://nextjs.org/docs/#static-html-export"},"Read more about it on next.js"),". If you can, then you're good to go."),o.a.createElement("p",null,o.a.createElement(v,{href:"https://nextjs.org/docs/#usage"},"Follow the steps")," to create ",o.a.createElement(j.a,null,"exportPathMap")," in ",o.a.createElement(j.a,null,"next.config.js")," add ",o.a.createElement(j.a,null,"next build")," and ",o.a.createElement(j.a,null,"next export")," scripts to ",o.a.createElement(j.a,null,"package.json"),"."),o.a.createElement("p",null,"All done? You should now have an ",o.a.createElement(j.a,null,"./out")," directory with your entire website in it."),o.a.createElement(E,null,"I use the ",o.a.createElement(j.a,null,"serve")," module to test the ",o.a.createElement(j.a,null,"out")," directory has everything it needs. Make sure you test loading specific URLs to ensure a direct page load works (versus client side navigation)."),o.a.createElement("p",null,"Now comes the tricky part... setting up GitHub Pages."),o.a.createElement("p",null,"Here is how it's going to work:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Next.js will produce a static version of the site in the ",o.a.createElement(j.a,null,"out")," directory."),o.a.createElement("li",null,"We'll alias the ",o.a.createElement(j.a,null,"out")," directory to a ",o.a.createElement(j.a,null,"gh-pages")," branch."),o.a.createElement("li",null,"We'll then push the contents of the ",o.a.createElement(j.a,null,"gh-pages")," to GitHub to update the site.")),o.a.createElement(E,null,"The following will only work if you're intending to use a user or organisation pages site, or a project pages site with a custom domain. If you intend on using a project pages site with the standard GitHub domain (i.e. ",o.a.createElement(j.a,null,"https://\\","{","username","}",".github.com/","{","reponame","}"),") then there are a few extra steps to complete."),o.a.createElement("p",null,"Okay, let's get started by preparing the ",o.a.createElement(j.a,null,"out")," directory:"),o.a.createElement(r.a,{language:"shell",style:i.a},'# Remove files from the out directory\n$ rm -rf ./out/\n\n# Exclude the out directory from Git\n$ echo "out/" >> .gitignore\n$ git add .\n$ git commit -m "Ignore the out directory."\n\n# Create an orphan branch named gh-pages\n$ git checkout --orphan gh-pages\n\n# Remove all staged files\n$ git rm -rf .\n\n# Create an empty commit (remember this is the gh-page branch)\n$ git add .\n$ git commit --allow-empty -m "Initial empty branch"\n\n# Push the branch\n$ git push origin gh-pages\n'),o.a.createElement("p",null,"Now we can create the Git worktree:"),o.a.createElement(r.a,{language:"shell",style:i.a},"# Go back to master\n$ git checkout master\n\n# Create the Git Worktree\n$ git worktree add out gh-pages\n"),o.a.createElement("p",null,"Let's take a moment here to explore this..."),o.a.createElement("p",null,"If you run ",o.a.createElement(j.a,null,"git branch")," you should be on ",o.a.createElement(j.a,null,"master"),". Now change into the ",o.a.createElement(j.a,null,"out")," directory and run ",o.a.createElement(j.a,null,"git branch"),", you should be on the ",o.a.createElement(j.a,null,"gh-pages")," branch. So the ",o.a.createElement(j.a,null,"out")," directory has been directly aliased to the ",o.a.createElement(j.a,null,"gh-pages")," branch. That's kinda neat."),o.a.createElement("p",null,"Let's setup the out directory ready for ",o.a.createElement(j.a,null,"gh-pages"),":"),o.a.createElement(r.a,{language:"shell",style:i.a},"# Add a .nojekyll file to out\ntouch ./out/.nojekyll\n"),o.a.createElement("p",null,"With the hard part out of the way 😅, do the following every time you want to deploy a new version of your site:"),o.a.createElement(r.a,{language:"shell",style:i.a},'# Build and generate an export\n$ yarn build\n$ yarn export\n\n# Push the updated site to GitHub pages\n$ cd ./out\n$ git add .\n$ git commit -m "Deploy to gh-pages 🚀"\n$ git push origin gh-pages\n'),o.a.createElement("p",null,"Now you'll need to setup GitHub Pages. ",o.a.createElement(v,{href:"https://help.github.com/en/articles/configuring-a-publishing-source-for-github-pages"},"GitHub have a guide for configuring a publishing source for GitHub pages"),", you should be able to follow that. They also have ",o.a.createElement(v,{href:"https://help.github.com/en/articles/quick-start-setting-up-a-custom-domain"},"a guide for setting up a custom domain"),"."),o.a.createElement("p",null,"...☕️☕️... ☕️️️?"),o.a.createElement("p",null,"And hey presto, your Next.js site should be super zippy 🚀 on the GitHub Pages platform.")))}).getInitialProps=f,H)},Fz1P:function(e,t,a){"use strict";t.a=function(e,t){return e.filter(function(e){return e.slug===t})}},aOVY:function(e,t,a){"use strict";var n=a("kOwS"),o=a("qNsG"),r=a("MX0m"),l=a.n(r),c=a("q1tI"),s=a.n(c);t.a=function(e){var t=e.children,a=Object(o.a)(e,["children"]);return s.a.createElement("code",Object(n.a)({},a,{className:"jsx-4158294469 "+(null!=a.className&&a.className||"")}),t,s.a.createElement(l.a,{id:"4158294469"},["code.jsx-4158294469{color:deepPink;font-family:Menlo,Monaco,monospace,serif;font-size:.9em;}","code.jsx-4158294469::before{content:'`';}","code.jsx-4158294469::after{content:'`';}"]))}},s1QI:function(e,t,a){"use strict";var n=a("ln6h"),o=a.n(n),r=a("O40h");t.a=Object(r.default)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(18).then(a.t.bind(null,"I6xX",7));case 2:return t=e.sent,n=t.posts,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))},vfLw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={'code[class*="language-"]':{color:"black",background:"none",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"black",background:"#f5f2f0",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{background:"#f5f2f0",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"slategray"},prolog:{color:"slategray"},doctype:{color:"slategray"},cdata:{color:"slategray"},punctuation:{color:"#999"},".namespace":{Opacity:".7"},property:{color:"#905"},tag:{color:"#905"},boolean:{color:"#905"},number:{color:"#905"},constant:{color:"#905"},symbol:{color:"#905"},deleted:{color:"#905"},selector:{color:"#690"},"attr-name":{color:"#690"},string:{color:"#690"},char:{color:"#690"},builtin:{color:"#690"},inserted:{color:"#690"},operator:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},entity:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)",cursor:"help"},url:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".language-css .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".style .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},atrule:{color:"#07a"},"attr-value":{color:"#07a"},keyword:{color:"#07a"},function:{color:"#DD4A68"},"class-name":{color:"#DD4A68"},regex:{color:"#e90"},important:{color:"#e90",fontWeight:"bold"},variable:{color:"#e90"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}}}},[["27IA",1,0]]]);